# Update the create_sid_tag method to right-align the remove button
def create_sid_tag(self, sid):
    tag = QFrame()
    tag.setObjectName("sidTag")
    layout = QHBoxLayout(tag)
    layout.setContentsMargins(8, 4, 8, 4)
    layout.setSpacing(8)

    label = QLabel(sid)
    remove_btn = QPushButton("Remove")
    remove_btn.setObjectName("removeBtn")
    remove_btn.setFixedWidth(70)

    layout.addWidget(label)
    layout.addStretch()  # Add stretch before the button to push it right
    layout.addWidget(remove_btn)

    return tag, remove_btn

# Update the setup_right_panel method to fix Add User button visibility
def setup_right_panel(self):
    # ... (previous code remains the same until users section) ...

    # Users section with improved button visibility
    users_container = QWidget()
    users_container.setStyleSheet("background-color: white;")
    users_layout = QVBoxLayout(users_container)
    users_layout.setContentsMargins(20, 20, 20, 20)
    users_layout.setSpacing(16)

    users_title = QLabel("Manage Users")
    users_title.setProperty("heading", True)
    users_layout.addWidget(users_title)

    # Add user section with improved button visibility
    add_user_layout = QHBoxLayout()
    add_user_layout.setSpacing(8)
    
    self.new_user_input = QLineEdit()
    self.new_user_input.setPlaceholderText("Enter user SID to add")
    self.new_user_input.setMinimumHeight(36)
    
    add_user_btn = QPushButton("Add User")
    add_user_btn.setObjectName("actionButton")
    add_user_btn.setFixedHeight(36)
    add_user_btn.setFixedWidth(100)
    
    add_user_layout.addWidget(self.new_user_input)
    add_user_layout.addWidget(add_user_btn)
    users_layout.addLayout(add_user_layout)

    # Update the style sheet to ensure button visibility
    add_user_btn.setStyleSheet("""
        QPushButton {
            background-color: #1976d2;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: 500;
        }
        QPushButton:hover {
            background-color: #1565c0;
        }
    """)

    users_list_label = QLabel("Current Users")
    users_list_label.setProperty("subheading", True)
    users_layout.addWidget(users_list_label)

    self.users_widget = QScrollArea()
    self.users_widget.setWidgetResizable(True)
    self.users_container = QWidget()
    self.users_layout = QVBoxLayout(self.users_container)
    self.users_layout.setAlignment(Qt.AlignmentFlag.AlignTop)
    self.users_layout.setSpacing(8)
    self.users_widget.setWidget(self.users_container)

    users_layout.addWidget(self.users_widget)
    add_user_btn.clicked.connect(self.add_new_user)

    manage_layout = QHBoxLayout(manage_widget)
    manage_layout.setContentsMargins(0, 0, 0, 0)
    manage_layout.setSpacing(0)
    manage_layout.addWidget(apps_container, 1)
    manage_layout.addWidget(users_container, 2)

# Update the style sheet in apply_styles
def apply_styles(self):
    self.setStyleSheet("""
        /* ... (keep existing styles) ... */
        
        QPushButton#actionButton {
            background-color: #1976d2;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: 500;
            min-width: 100px;
            min-height: 36px;
        }
        QPushButton#actionButton:hover {
            background-color: #1565c0;
        }
        QPushButton#removeBtn {
            color: #f44336;
            padding: 4px 8px;
            margin: 0px;
            font-size: 12px;
            background: #ffebee;
            border-radius: 4px;
            text-align: center;
            min-width: 60px;
            border: 1px solid #ffcdd2;
        }
        QPushButton#removeBtn:hover {
            background-color: #ef5350;
            color: white;
            border: 1px solid #ef5350;
        }
        QLineEdit {
            border: 1px solid #e0e0e0;
            padding: 8px;
            border-radius: 4px;
            font-size: 13px;
            min-height: 36px;
            background: white;
        }
        QLineEdit:focus {
            border: 1px solid #1976d2;
        }
        QFrame#sidTag {
            background-color: #f5f5f5;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            padding: 4px;
            margin: 4px 0px;
            min-height: 40px;
        }
        /* ... (keep other existing styles) ... */
    """)
